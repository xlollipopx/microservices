{"id":"node_modules/axios-logger/lib/logger/response.js","dependencies":[{"name":"/home/anton/projects/js/blockchain-ui/package.json","includedInParent":true,"mtime":1648445591332},{"name":"/home/anton/projects/js/blockchain-ui/.babelrc","includedInParent":true,"mtime":1646843389248},{"name":"/home/anton/projects/js/blockchain-ui/node_modules/axios-logger/package.json","includedInParent":true,"mtime":1648031604747},{"name":"../common/config","loc":{"line":8,"column":22,"index":129},"parent":"/home/anton/projects/js/blockchain-ui/node_modules/axios-logger/lib/logger/response.js","resolved":"/home/anton/projects/js/blockchain-ui/node_modules/axios-logger/lib/common/config.js"},{"name":"../common/string-builder","loc":{"line":10,"column":52,"index":203},"parent":"/home/anton/projects/js/blockchain-ui/node_modules/axios-logger/lib/logger/response.js","resolved":"/home/anton/projects/js/blockchain-ui/node_modules/axios-logger/lib/common/string-builder.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _config = require(\"../common/config\");\n\nvar _stringBuilder = _interopRequireDefault(require(\"../common/string-builder\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction responseLogger(response, config = {}) {\n  const {\n    config: {\n      baseURL,\n      url,\n      method,\n      params\n    },\n    status,\n    statusText,\n    data,\n    headers\n  } = response;\n  const buildConfig = (0, _config.assembleBuildConfig)(config);\n  const stringBuilder = new _stringBuilder.default(buildConfig);\n  const log = stringBuilder.makeLogTypeWithPrefix('Response').makeDateFormat(new Date()).makeMethod(method).makeUrl(url, baseURL).makeParams(params).makeStatus(status, statusText).makeHeader(headers).makeData(data).build();\n  buildConfig.logger(log);\n  return response;\n}\n\nvar _default = responseLogger;\nexports.default = _default;\n"},"sourceMaps":{"js":{"version":3,"sources":["../../src/logger/response.ts"],"names":["responseLogger","response","config","baseURL","url","method","params","status","statusText","data","headers","buildConfig","stringBuilder","StringBuilder","log","makeLogTypeWithPrefix","makeDateFormat","Date","makeMethod","makeUrl","makeParams","makeStatus","makeHeader","makeData","build","logger"],"mappings":";;;;;;;AAEA;;AACA;;;;AAEA,SAASA,cAAT,CAAwBC,QAAxB,EAAiDC,MAAyB,GAAG,EAA7E,EAAiF;AAC7E,QAAM;AAACA,IAAAA,MAAM,EAAE;AAACC,MAAAA,OAAD;AAAUC,MAAAA,GAAV;AAAeC,MAAAA,MAAf;AAAuBC,MAAAA;AAAvB,KAAT;AAAyCC,IAAAA,MAAzC;AAAiDC,IAAAA,UAAjD;AAA6DC,IAAAA,IAA7D;AAAmEC,IAAAA;AAAnE,MAA8ET,QAApF;AAEA,QAAMU,WAAW,GAAG,iCAAoBT,MAApB,CAApB;AAEA,QAAMU,aAAa,GAAG,IAAIC,sBAAJ,CAAkBF,WAAlB,CAAtB;AACA,QAAMG,GAAG,GAAGF,aAAa,CACpBG,qBADO,CACe,UADf,EAEPC,cAFO,CAEQ,IAAIC,IAAJ,EAFR,EAGPC,UAHO,CAGIb,MAHJ,EAIPc,OAJO,CAICf,GAJD,EAIMD,OAJN,EAKPiB,UALO,CAKId,MALJ,EAMPe,UANO,CAMId,MANJ,EAMYC,UANZ,EAOPc,UAPO,CAOIZ,OAPJ,EAQPa,QARO,CAQEd,IARF,EASPe,KATO,EAAZ;AAWAb,EAAAA,WAAW,CAACc,MAAZ,CAAmBX,GAAnB;AAEA,SAAOb,QAAP;AACH;;eAEcD,c","sourcesContent":["import { AxiosResponse } from 'axios';\nimport { ResponseLogConfig } from '../common/types';\nimport { assembleBuildConfig } from '../common/config';\nimport StringBuilder from '../common/string-builder';\n\nfunction responseLogger(response: AxiosResponse, config: ResponseLogConfig = {}) {\n    const {config: {baseURL, url, method, params}, status, statusText, data, headers} = response;\n\n    const buildConfig = assembleBuildConfig(config);\n\n    const stringBuilder = new StringBuilder(buildConfig);\n    const log = stringBuilder\n        .makeLogTypeWithPrefix('Response')\n        .makeDateFormat(new Date())\n        .makeMethod(method)\n        .makeUrl(url, baseURL)\n        .makeParams(params)\n        .makeStatus(status, statusText)\n        .makeHeader(headers)\n        .makeData(data)\n        .build();\n\n    buildConfig.logger(log);\n\n    return response;\n}\n\nexport default responseLogger;\n"]}},"error":null,"hash":"564e17ba6df945601667f6c56b255fba","cacheData":{"env":{}}}